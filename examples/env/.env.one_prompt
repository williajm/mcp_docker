# MCP Docker HTTP Server - One Prompt Only
#
# This configuration enables only a single prompt: troubleshoot_container.
# All tools and resources are disabled. This is useful for minimal AI assistant
# configurations where you only want container troubleshooting capabilities.
#
# To use this configuration:
#   source examples/env/.env.one_prompt
#   ./examples/scripts/start_http_server_one_prompt.sh
#
# Or directly:
#   source examples/env/.env.one_prompt && uv run mcp-docker --transport http

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Network binding
MCP_HOST=127.0.0.1
MCP_PORT=8000

# Logging - DEBUG level shows detailed request/response information
MCP_LOG_LEVEL=DEBUG
MCP_DEBUG_MODE=true

# ============================================================================
# SAFETY CONFIGURATION - ONE PROMPT ONLY
# ============================================================================

# Disable moderate and destructive operations
SAFETY_ALLOW_MODERATE_OPERATIONS=false
SAFETY_ALLOW_DESTRUCTIVE_OPERATIONS=false

# No tools allowed
SAFETY_ALLOWED_TOOLS=

# Only allow the troubleshoot_container prompt
SAFETY_ALLOWED_PROMPTS=troubleshoot_container

# No resources allowed
SAFETY_ALLOWED_RESOURCES=

# ============================================================================
# SECURITY CONFIGURATION (Optional)
# ============================================================================

# Rate limiting (recommended)
SECURITY_RATE_LIMIT_ENABLED=true
SECURITY_RATE_LIMIT_RPM=60
SECURITY_RATE_LIMIT_CONCURRENT=3

# Audit logging (recommended)
SECURITY_AUDIT_LOG_ENABLED=true
SECURITY_AUDIT_LOG_FILE=~/.mcp-docker/audit.log

# IP allowlist (optional - empty allows all IPs)
# SECURITY_ALLOWED_CLIENT_IPS=127.0.0.1,192.168.1.100

# ============================================================================
# AVAILABLE PROMPT (0 tools, 1 prompt, 0 resources)
# ============================================================================
#
# Only this single prompt is enabled:
#
# - troubleshoot_container:
#   - Diagnose and troubleshoot container issues
#   - Provides comprehensive diagnostics including:
#     - Container status and state
#     - Resource usage (CPU, memory, network)
#     - Recent logs (last 50 lines)
#     - Exit codes and error messages
#
# All tools are DISABLED (all 33):
# - docker_list_containers, docker_inspect_container, etc.
#
# All other prompts are DISABLED (4):
# - optimize_container
# - generate_compose
# - debug_networking
# - security_audit
#
# All resources are DISABLED (2):
# - container_logs
# - container_stats
#
# Example MCP prompt usage:
#   troubleshoot_container(container_id="my-container")
#
