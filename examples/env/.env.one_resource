# MCP Docker HTTP Server - One Resource Only
#
# This configuration enables only a single resource: container_logs.
# All tools and prompts are disabled. This is useful for minimal monitoring
# configurations where you only need to access container logs.
#
# To use this configuration:
#   source examples/env/.env.one_resource
#   ./examples/scripts/start_http_server_one_resource.sh
#
# Or directly:
#   source examples/env/.env.one_resource && uv run mcp-docker --transport http

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Network binding
MCP_HOST=127.0.0.1
MCP_PORT=8000

# Logging - DEBUG level shows detailed request/response information
MCP_LOG_LEVEL=DEBUG
MCP_DEBUG_MODE=true

# ============================================================================
# SAFETY CONFIGURATION - ONE RESOURCE ONLY
# ============================================================================

# Disable moderate and destructive operations
SAFETY_ALLOW_MODERATE_OPERATIONS=false
SAFETY_ALLOW_DESTRUCTIVE_OPERATIONS=false

# No tools allowed
SAFETY_ALLOWED_TOOLS=

# No prompts allowed
SAFETY_ALLOWED_PROMPTS=

# Only allow the container_logs resource
SAFETY_ALLOWED_RESOURCES=container_logs

# ============================================================================
# SECURITY CONFIGURATION (Optional)
# ============================================================================

# Rate limiting (recommended)
SECURITY_RATE_LIMIT_ENABLED=true
SECURITY_RATE_LIMIT_RPM=60
SECURITY_RATE_LIMIT_CONCURRENT=3

# Audit logging (recommended)
SECURITY_AUDIT_LOG_ENABLED=true
SECURITY_AUDIT_LOG_FILE=~/.mcp-docker/audit.log

# IP allowlist (optional - empty allows all IPs)
# SECURITY_ALLOWED_CLIENT_IPS=127.0.0.1,192.168.1.100

# ============================================================================
# AVAILABLE RESOURCE (0 tools, 0 prompts, 1 resource)
# ============================================================================
#
# Only this single resource is enabled:
#
# - container_logs:
#   - Access container logs via MCP resource URI
#   - URI format: container://logs/{container_id}
#   - Provides:
#     - Real-time container log output
#     - Configurable tail length (default: 100 lines)
#     - Timestamp information
#     - Both stdout and stderr streams
#
# All tools are DISABLED (all 33):
# - docker_list_containers, docker_inspect_container, etc.
#
# All prompts are DISABLED (all 5):
# - troubleshoot_container
# - optimize_container
# - generate_compose
# - debug_networking
# - security_audit
#
# All other resources are DISABLED (1):
# - container_stats
#
# Example MCP resource usage:
#   Read resource: container://logs/my-container
#
# The container_logs resource provides read-only access to container logs
# without the ability to modify containers or execute commands.
#
